# SMS/AlimTalk API Provider Analysis

클리닉 CRM 시스템을 위한 문자/알림톡 발송 API 서비스 비교 분석입니다.

## 1. 비교 요약 (Comparison Summary)

| 서비스명 | 문자(SMS) 단가 | 문자(LMS) 단가 | 알림톡 단가 | 개발 편의성 | 추천 대상 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **알리고 (Aligo)** | **8.4원** | **25원** | **6.5원** | ⭐️⭐️ (REST API, 다소 구식) | **비용 절감 최우선** |
| **Solapi (구 CoolSMS)** | 20원 | 50원 | 8-10원 | ⭐️⭐️⭐️⭐️ (Modern SDK, 문서 우수) | **개발 속도/편의성 중요** |
| **NHN Cloud (Toast)** | 8.8원~ | 26원~ | 7.7원~ | ⭐️⭐️⭐️ (Enterprise, 설정 복잡) | **대규모/안정성 중시** |

*단가는 발송 건수 및 충전 금액에 따라 달라질 수 있습니다.*

---

## 2. 상세 분석

### A. 알리고 (Aligo)
가성비가 가장 뛰어나 많은 소규모 병/의원 및 쇼핑몰에서 사용하는 1위 업체입니다.

*   **장점**:
    *   **압도적인 가격 경쟁력**: 타사 대비 40~50% 이상 저렴.
    *   **알림톡/친구톡 지원**: 카카오 비즈메시지 통합 발송 가능.
    *   실패 시 자동 문자 대체 발송(Resend) 기능 지원.
*   **단점**:
    *   **API가 다소 구식**: 최신 SDK가 부족하며, HTTP POST 요청을 직접 구현해야 하는 경우가 많음 (Node.js 비공식 라이브러리는 존재).
    *   관리자 페이지 UI가 오래됨.
    *   발신번호 사전 등록 절차가 다소 까다로울 수 있음 (국내 통신법상 공통 사항이나, 알리고가 좀 더 보수적).

### B. Solapi (구 CoolSMS)
개발자 친화적인 서비스로, 가장 현대적인 API와 SDK를 제공합니다.

*   **장점**:
    *   **최고의 DX (Developer Experience)**: Node.js, Python 등 공식 SDK 지원이 매우 강력하며 문서화가 잘 되어 있음 (`coolsms-node-sdk`).
    *   **빠른 연동**: 계정 생성 후 API Key 발급부터 발송 테스트까지 10분 내 완료 가능.
    *   모니터링 및 로그 대시보드가 매우 직관적임.
*   **단점**:
    *   **비용**: 알리고 대비 2배 이상의 단가 (소량 발송 시에는 문제 없으나, 대량 발송 시 부담).

### C. NHN Cloud (Toast Notification) / Naver Cloud (SENS)
대기업 클라우드 인프라를 사용합니다.

*   **장점**:
    *   **안정성**: 인프라 수준의 높은 안정성과 SLA 보장.
    *   **확장성**: 대량 트래픽 처리에 능함.
    *   IP 보안 제어 등 엔터프라이즈급 보안 기능.
*   **단점**:
    *   **초기 설정 복잡**: 클라우드 콘솔 가입, 프로젝트 생성, 서비스 활성화 등 절차가 복잡함.
    *   SDK가 무겁거나(Java 중심), REST API 스펙이 방대함.

---

## 3. 구현 전략 제안 (Implementation Strategy)

### 옵션 1: "가성비 중심" (추천) -> **알리고 (Aligo)**
CRM 마케팅 문자는 발송량이 많아질 수 있으므로, **비용 절감**이 가장 큰 이슈가 됩니다. API 연동이 조금 번거롭더라도 한 번 연동해두면 장기적인 운영 비용을 크게 아낄 수 있습니다.
*   **구현**: `fetch`를 사용한 Custom Wrapper `sendAligoMessage` 함수 구현.
*   **알림톡**: 초기에는 문자(SMS/LMS)로 시작하고, 추후 카카오 알림톡(AlimTalk)으로 고도화하여 비용을 더 절감(알림톡은 SMS보다 더 저렴).

### 옵션 2: "개발 생산성 중심" -> **Solapi**
당장 빠르게 기능을 붙이고, 트래픽이 적은 초기 단계라면 Solapi가 정신 건강에 이롭습니다.
*   **구현**: `npm install coolsms-node-sdk` 설치 후 바로 사용.

## 4. 기술적 고려사항 (Technical Considerations)

1.  **발신번호 사전 등록제**: 어떤 서비스를 쓰든, 병원 대표번호를 통신사 가입 증명원 제출 등을 통해 미리 등록해야만 문자를 보낼 수 있습니다. (법적 필수)
2.  **비동기 처리**: `Cloudflare Workers` 환경(현재 아키텍처)에서는 API 호출 시간이 길어질 수 있으므로, 비동기 처리가 필수입니다.
    *   (현재 구현된) `캠페인 테이블` -> `Cron Trigger`가 주기적으로 `pending` 상태의 메시지를 가져와 발송하는 구조가 적합합니다.
3.  **080 수신거부**: 광고성 문자 전송 시 080 수신거부 번호가 필수입니다. 알리고 등은 이를 부가서비스로 제공합니다.

---

**결론**:
병원 CRM의 특성상(재방문 유도, 예약 안내 등 주기적 발송), **알리고(Aligo)**를 사용하여 **비용 효율**을 챙기는 것을 권장합니다. 초기 연동 코드는 제가 작성해드릴 수 있습니다.
