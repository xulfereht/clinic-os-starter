# Clinic-OS ν”„λ΅μ νΈ κ°€μ΄λ“

> β οΈ **Antigravity**: μ΄ νμΌμ„ κ°€μ¥ λ¨Όμ € μ½κ³  ν”„λ΅μ νΈ λ§¥λ½μ„ νμ•…ν•μ„Έμ”.

---

## π§­ ν”„λ΅μ νΈ μ² ν•™

### μ΄ μ‹μ¤ν…μ ν•µμ‹¬ μ›μΉ™

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  π“‹ λ¬Έμ„(GEMINI.md)κ°€ λ°©ν–¥μ„ μ μ‹ν•©λ‹λ‹¤                     β”‚
β”‚  π¤– Antigravityκ°€ κ° ν”„λ΅μ νΈμ— λ§κ² λ―Έμ„Έμ΅°μ •ν•©λ‹λ‹¤         β”‚
β”‚  π”§ ν•λ“μ½”λ”©λ κ·μΉ™ λ€μ‹  μ μ—°ν• μ μ©μ΄ ν•µμ‹¬μ…λ‹λ‹¤           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### μ™ μ΄ λ°©μ‹μΈκ°€?
- κ° ν΄λΌμ΄μ–ΈνΈμ ν”„λ΅μ νΈλ” **κ°μΈν™”**λμ–΄ μμ
- λ™μΌν• λ„ν‚Ή ν¨ν‚¤μ§€λ„ **ν”„λ΅μ νΈλ§λ‹¤ λ‹¤λ¥΄κ² μ μ©**λ  μ μμ
- Antigravityκ°€ **ν„μ¬ ν”„λ΅μ νΈ μƒνƒλ¥Ό νμ•…**ν•κ³  μ μ ν λ€μ‘

---

## π“ ν„μ¬ ν”„λ΅μ νΈ μ •λ³΄

> **μ΄ μ„Ήμ…μ€ κ° ν΄λΌμ΄μ–ΈνΈκ°€ μμ‹ μ ν™κ²½μ— λ§κ² μμ •ν•©λ‹λ‹¤**

| ν•­λ© | κ°’ |
|------|-----|
| ν”„λ΅μ νΈ μ ν• | clinic-os (ν•μμ› μ›Ήν”λ«νΌ) |
| κΈ°λ³Έ λ²„μ „ | 1.0.0 |
| ν•μμ› μ΄λ¦„ | (site_settingsμ—μ„ λ΅λ“) |
| λ°°ν¬ ν™κ²½ | Cloudflare Pages + D1 |
| κ°λ° κ¶μ¥ ν™κ²½ | WSL + Antigravity App |
| μ»¤μ¤ν„°λ§μ΄μ§• | κΈ°λ³Έ |

### μ μ©λ λ„ν‚Ή ν¨ν‚¤μ§€
`.docking/.applied` νμΌ μ°Έμ΅°

### μ£Όμ” μ»¤μ¤ν„°λ§μ΄μ§• μ‚¬ν•­
- (ν΄λΌμ΄μ–ΈνΈκ°€ μ§μ ‘ μμ •ν• λ¶€λ¶„μ„ μ—¬κΈ°μ— κΈ°λ΅)

### ν™κ²½ μ„¤μ • (Node/NPM Path)
μ‹μ¤ν… μ‹¤ν–‰ μ‹ Node/NPM κ²½λ΅κ°€ μ΅νμ§€ μ•μ„ κ²½μ°, λ‹¤μ λ…λ Ήμ–΄λ΅ κ²½λ΅λ¥Ό μ΅μ•„μ£Όμ„Έμ”.
```bash
export PATH=/Users/amu/.nvm/versions/node/v24.11.0/bin:$PATH
```
---

## π¤– Antigravity μ‘μ—… μ§€μΉ¨

### λ„ν‚Ή ν¨ν‚¤μ§€ μ μ© μ‹

1. **ν„μ¬ ν”„λ΅μ νΈ μƒνƒ νμ•…**
   - μ΄ GEMINI.md μ½κΈ°
   - `.docking/.applied` ν™•μΈ
   - μ»¤μ¤ν„°λ§μ΄μ§•λ νμΌ νμ•…

2. **ν¨ν‚¤μ§€ λ¶„μ„**
   - `manifest.yaml` μ½κΈ°
   - `instructions.md` ν™•μΈ
   - μ¶©λ κ°€λ¥μ„± μ‚¬μ „ νμ•…

3. **μ μ‘μ  μ μ©**
   - ν”„λ΅μ νΈ κµ¬μ΅°μ— λ§κ² μ΅°μ •
   - κΈ°μ΅΄ μ»¤μ¤ν„°λ§μ΄μ§• λ³΄μ΅΄
   - μ¶©λ μ‹ μ‚¬μ©μμ—κ² μ„¤λ… ν›„ κ²°μ •

### λ²„μ „ μ—…κ·Έλ μ΄λ“ μ‹

1. **κΈ€λ΅λ² μ²΄ν¬ν¬μΈνΈ μƒμ„±**: `.docking/checkpoints/`μ— ν„μ¬ μƒνƒ μ „μ²΄ λ°±μ—…
2. **ν¨ν‚¤μ§€ λ°±μ—…**: μƒλ΅μ΄ λ²„μ „μ μμ μ†μ¤μ½”λ“λ¥Ό `.docking/versions/`μ— μ €μ¥
3. **λ³€κ²½μ‚¬ν•­ λ¶„μ„**: μƒ λ²„μ „ vs ν„μ¬ μ†μ¤ vs μ΄μ „ λ²„μ „(Ancestor) λΉ„κµ
4. **μ μ‘μ  λ³‘ν•©**: `GEMINI.md`μ λ§¥λ½μ„ μ μ§€ν•λ©° μ§€λ¥μ μΌλ΅ μ½”λ“ ν†µν•©
5. **ν…μ¤νΈ λ° κ²€μ¦**: μ‘λ™ ν™•μΈ ν›„ μ‚¬μ©μ μΉμΈ

---

## π“‚ ν”„λ΅μ νΈ κµ¬μ΅°

```
clinic-os/
β”β”€β”€ GEMINI.md              # β­ ν”„λ΅μ νΈ μ»¨ν…μ¤νΈ (μµμ°μ„  μ°Έμ΅°)
β”β”€β”€ .agent/workflows/      # Antigravity μ›ν¬ν”λ΅μ°
β”β”€β”€ .docking/              # π›°οΈ λ„ν‚Ή μ‹μ¤ν… λ° νμ¤ν† λ¦¬
β”‚   β”β”€β”€ versions/          # π“¦ ν¨ν‚¤μ§€ λ²„μ „λ³„ μ›λ³Έ (Common Ancestor)
β”‚   β”β”€β”€ checkpoints/       # π•’ λ΅μ»¬ μ½”λ“ μ¤λƒ…μƒ· (μ‘μ—… μ „/ν›„ λ°±μ—…)
β”‚   β”β”€β”€ logs/              # π“ ν†µν•© λ° κ²°μ • λ΅κ·Έ (Integration Logs)
β”‚   β””β”€β”€ .applied           # ν„μ¬ μ μ©λ ν¨ν‚¤μ§€ λ©”νƒ€λ°μ΄ν„°
β”β”€β”€ src/
β”‚   β”β”€β”€ pages/             # μ›Ήνμ΄μ§€ (Integrated Layer)
β”‚   β”β”€β”€ components/        # UI μ»΄ν¬λ„νΈ
β”‚   β””β”€β”€ lib/               # μ ν‹Έλ¦¬ν‹°
β”β”€β”€ migrations/            # DB μ¤ν‚¤λ§
β”β”€β”€ seeds/                 # μ΄κΈ° λ°μ΄ν„°
β””β”€β”€ docs/                  # μ΄μ κ°€μ΄λ“
```

---

## π― μ£Όμ” μ›ν¬ν”λ΅μ°

### μ²μ μ‚¬μ©μμ© ν€µμ¤νƒ€νΈ
1.  **ν•„μ ν™κ²½ (Windows)**: λ°λ“μ‹ **WSL2**κ°€ μ„¤μΉλμ–΄ μμ–΄μ•Ό ν•©λ‹λ‹¤. (Node.js v20+)
    - *μλ„μ° λ„¤μ΄ν‹°λΈ(C:)μ—μ„μ μ‹¤ν–‰μ€ κ¶μ¥ν•μ§€ μ•μµλ‹λ‹¤.*
2.  **ν”„λ΅μ νΈ μ—΄κΈ°**: **Antigravity μ•±**μ—μ„ `\\wsl$\Ubuntu\home\...` κ²½λ΅μ ν”„λ΅μ νΈλ¥Ό μ—½λ‹λ‹¤.
3.  **μ΄κΈ° μ„¤μ •**: `/setup-clinic` (μ•± λ‚΄ μ±„ν…μΌλ΅ μ”μ²­)
    - Node.js(v20), ν¨ν‚¤μ§€ μ„¤μΉ, DB μ΄κΈ°ν™”κ°€ μλ™μΌλ΅ μ§„ν–‰λ©λ‹λ‹¤.
4.  **λ΅μ»¬ μ‹¤ν–‰**: `npm run dev` (μ•± λ‚΄ ν„°λ―Έλ„ μ‚¬μ©)
    - λΈλΌμ°μ €μ—μ„ `http://localhost:4321` μ ‘μ† ν™•μΈ

### ν΄λΌμ΄μ–ΈνΈ λ…λ Ήμ–΄

| λ…λ Ή | μ©λ„ | μ–Έμ  μ‚¬μ© |
|------|------|----------|
| `npm run setup` | μ΄κΈ° μ„¤μ • λ§λ²•μ‚¬ | ν”„λ΅μ νΈ μ²μ μ‹μ‘ μ‹ |
| `npm run fetch` | μµμ‹  μ•± ν¨ν‚¤μ§€ λ‹¤μ΄λ΅λ“ | μ—…λ°μ΄νΈ ν™•μΈ μ‹ |
| `npm run core:pull` | HQμ—μ„ μ•± ν¨ν‚¤μ§€ μ—…λ°μ΄νΈ | μƒ κΈ°λ¥ μ μ© μ‹ |
| `npm run update:starter` | Starter Kit μΈν”„λΌ μ—…λ°μ΄νΈ | μΈν”„λΌ λ³€κ²½ μ‹ |
| `npm run upgrade` | μλ™ zip ν¨ν‚¤μ§€ μ μ© | zip νμΌλ΅ λ°›μ€ κ²½μ° |
| `npm run dev` | λ΅μ»¬ κ°λ° μ„λ²„ | κ°λ°/ν…μ¤νΈ μ‹ |
| `npm run deploy` | ν”„λ΅λ•μ… λ°°ν¬ | Cloudflare λ°°ν¬ |
| `npm run doctor` | μ‹μ¤ν… κ±΄μ „μ„± μ²΄ν¬ | λ¬Έμ  λ°μƒ μ‹ |
| `/help` | λ„μ›€ μ”μ²­ | λ¬Έμ  λ°μƒ μ‹ |

### κ°λ°μ λ…λ Ήμ–΄ (HQ μ „μ©)

| λ…λ Ή | μ©λ„ |
|------|------|
| `npm run publish` | μ „μ²΄ λ¦΄λ¦¬μ¤ (git + starter + core + HQ λ°°ν¬) |
| `npm run starter:push` | Starter Kit λ―Έλ¬ μ €μ¥μ† ν‘Έμ‹ |
| `npm run core:push` | Core μ•± λ―Έλ¬ μ €μ¥μ† ν‘Έμ‹ |
| `npm run hq:deploy` | HQ μ„λ²„ λ°°ν¬ |
| `npm run db:init` | DB μ¤ν‚¤λ§ μ΄κΈ°ν™” |
| `npm run db:seed` | μƒν” λ°μ΄ν„° μ‚½μ… |

---

## π€ λ°°ν¬ μ•„ν‚¤ν…μ² (κ°λ°μ ν•„λ…)

> β οΈ **μ¤‘μ”**: ν΄λΌμ΄μ–ΈνΈ λ°°ν¬μ™€ HQ λ°°ν¬λ” **μ™„μ „ν λ‹¤λ¥Έ κ²½λ΅**μ…λ‹λ‹¤. νΌλ™ν•μ§€ λ§μ„Έμ”!

### ν”„λ΅μ νΈ κµ¬μ΅°

```
clinic-os/                    # λ£¨νΈ (ν΄λΌμ΄μ–ΈνΈ μ•± + λ°°ν¬ μ¤ν¬λ¦½νΈ)
β”β”€β”€ package.json              # ν΄λΌμ΄μ–ΈνΈ μ•± + publish μ¤ν¬λ¦½νΈ
β”β”€β”€ src/                      # ν΄λΌμ΄μ–ΈνΈ μ•± μ†μ¤
β”β”€β”€ scripts/                  # λ°°ν¬ μλ™ν™” μ¤ν¬λ¦½νΈ
β”‚   β”β”€β”€ total-release.js      # npm run publish μ‹¤ν–‰
β”‚   β”β”€β”€ mirror-core.js        # core λ―Έλ¬λ§
β”‚   β””β”€β”€ mirror-starter.js     # starter λ―Έλ¬λ§
β”‚
β””β”€β”€ hq/                       # HQ μ„λ²„ (λ³„λ„ ν”„λ΅μ νΈ)
    β”β”€β”€ package.json          # HQ μ „μ© μ¤ν¬λ¦½νΈ
    β”β”€β”€ src/index.js          # HQ API + νμ΄μ§€
    β”β”€β”€ schema.sql            # HQ DB μ¤ν‚¤λ§
    β””β”€β”€ seeds/                # HQ μ‹λ“ λ°μ΄ν„°
```

### λ°°ν¬ κ²½λ΅ λΉ„κµ

| κµ¬λ¶„ | ν΄λΌμ΄μ–ΈνΈ λ°°ν¬ | HQ λ°°ν¬ |
|------|----------------|---------|
| **μ‘μ—… λ””λ ‰ν† λ¦¬** | `/clinic-os` (λ£¨νΈ) | `/clinic-os/hq` |
| **λ°°ν¬ λ€μƒ** | ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄νΈ | HQ κ΄€λ¦¬ μ„λ²„ |
| **λ…λ Ήμ–΄** | `npm run publish` | `npm run deploy` (hq ν΄λ”μ—μ„) |
| **Cloudflare ν”„λ΅μ νΈ** | κ° ν΄λΌμ΄μ–ΈνΈλ³„ | `clinic-os-hq` |
| **D1 λ°μ΄ν„°λ² μ΄μ¤** | κ° ν΄λΌμ΄μ–ΈνΈλ³„ | `clinic-hq-db` |

### μ¬λ°”λ¥Έ μ‚¬μ©λ²•

```bash
# 1. ν΄λΌμ΄μ–ΈνΈ μ•± μ „μ²΄ λ¦΄λ¦¬μ¤ (λ£¨νΈμ—μ„)
cd /Users/amu/dev/clinic-os
npm run publish

# 2. HQ μ„λ²„λ§ λ°°ν¬ (hq ν΄λ”μ—μ„)
cd /Users/amu/dev/clinic-os/hq
npm run deploy

# 3. HQ μ‹λ“ μ μ© (hq ν΄λ”μ—μ„)
cd /Users/amu/dev/clinic-os/hq
npx wrangler d1 execute clinic-hq-db --remote --file=seeds/guide_manuals_seed.sql
```

### npm run publish νλ¦„

`npm run publish` (λ£¨νΈμ—μ„ μ‹¤ν–‰)λ” λ‹¤μ μμ„λ΅ μ§„ν–‰:

1. **Git Sync** - λ©”μΈ μ €μ¥μ† μ»¤λ°‹/ν‘Έμ‹
2. **Starter Kit μƒμ„±** - zip νμΌ μƒμ„±
3. **Starter λ―Έλ¬λ§** - GitHub κ³µκ° μ €μ¥μ† ν‘Έμ‹
4. **Core λ―Έλ¬λ§** - GitHub κ³µκ° μ €μ¥μ† ν‘Έμ‹
5. **HQ λ°°ν¬** - `hq/` ν΄λ”λ΅ μ΄λ™ ν›„ λ°°ν¬ β† μ—¬κΈ°μ„ κ²½λ΅ μ£Όμ!

### ν”ν• μ‹¤μ

| μ‹¤μ | μ¦μƒ | ν•΄κ²° |
|------|------|------|
| hq ν΄λ”μ—μ„ `npm run publish` | `Missing script` μ¤λ¥ | λ£¨νΈλ΅ μ΄λ™: `cd ..` |
| λ£¨νΈμ—μ„ HQ μ‹λ“ μ μ© | νμΌ λ» μ°Ύμ μ¤λ¥ | hqλ΅ μ΄λ™: `cd hq` |
| HQ λ³€κ²½ ν›„ μ»¤λ°‹ μ• ν•¨ | `--commit-dirty` κ²½κ³  | μ»¤λ°‹ λ¨Όμ € λλ” `--commit-dirty=true` |

---

## π’΅ μμ£Ό λ¬»λ” μ§λ¬Έ

### λ„ν‚Ή ν¨ν‚¤μ§€κ°€ λ‚΄ μ»¤μ¤ν„°λ§μ΄μ§•μ„ λ®μ–΄μ“°λ‚μ”?
β†’ μ•„λ‹μ”. Antigravityκ°€ **ν„μ¬ ν”„λ΅μ νΈ μƒνƒλ¥Ό νμ•…**ν•κ³  
   μ»¤μ¤ν„°λ§μ΄μ§•μ„ λ³΄μ΅΄ν•λ©΄μ„ μ μ©ν•©λ‹λ‹¤.

### κ°™μ€ ν¨ν‚¤μ§€λ„ λ‹¤λ¥΄κ² μ μ©λλ‚μ”?
β†’ λ„¤. κ° ν”„λ΅μ νΈμ **ν„μ¬ μƒνƒμ— λ§κ² μ μ‘μ μΌλ΅** μ μ©λ©λ‹λ‹¤.

### μ¶©λμ΄ λ°μƒν•λ©΄?
β†’ Antigravityκ°€ **μ„¤λ…ν•κ³  μ„ νƒμ§€λ¥Ό μ μ‹**ν•©λ‹λ‹¤.
   μµμΆ… κ²°μ •μ€ μ‚¬μ©μκ°€ ν•©λ‹λ‹¤.

---

## π† λ¬Έμ  ν•΄κ²°

| μƒν™© | λ…λ Ήμ–΄ |
|------|------|
| μ²μ μ„¤μΉ | `npm run setup` |
| μ•± μ—…λ°μ΄νΈ | `npm run core:pull` |
| μΈν”„λΌ μ—…λ°μ΄νΈ | `npm run update:starter` |
| μλ™ ν¨ν‚¤μ§€ μ μ© | `npm run upgrade` |
| μ‹μ¤ν… μ§„λ‹¨ | `npm run doctor` |
| μ¤λ¥ λ°μƒ | μ¤λ¥ λ©”μ‹μ§€μ™€ ν•¨κ» `/help` |
| λλλ¦¬κΈ° | `git checkout HEAD~1` |

---

## π“ κ΄€λ¦¬μ κΈ°λ¥

| κ²½λ΅ | κΈ°λ¥ |
|------|------|
| `/admin` | λ€μ‹λ³΄λ“ |
| `/admin/programs` | μ§„λ£ ν”„λ΅κ·Έλ¨ |
| `/admin/patients` | ν™μ κ΄€λ¦¬ |
| `/admin/reservations` | μμ•½ κ΄€λ¦¬ |
| `/admin/posts` | λΈ”λ΅κ·Έ/μΉΌλΌ |
| `/admin/settings` | μ„¤μ • |
